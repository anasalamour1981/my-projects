<openerp>
    <data>
        <record id="cm_user_trans_out_rule" model="ir.rule">
            <field name="name">Display Only User Transactions (Outgoing)</field>
            <field name="model_id" ref="model_cm_transaction_out"/>
            <field eval="True" name="global"/>
            <field eval="True" name="perm_read"/>
            <field eval="False" name="perm_write"/>
            <field eval="False" name="perm_create"/>
            <field eval="False" name="perm_unlink"/>
            <field name="groups" eval="[(6,0,[ref('cm_odex.group_cm_user')])]"/>
            <field name="domain_force">[('user_id','=',user.id)]</field>
        </record>
        <record id="cm_user_trans_in_rule" model="ir.rule">
            <field name="name">Display Only User Transactions (Incoming)</field>
            <field name="model_id" ref="model_cm_transaction_in"/>
            <field eval="True" name="global"/>
            <field eval="True" name="perm_read"/>
            <field eval="False" name="perm_write"/>
            <field eval="False" name="perm_create"/>
            <field eval="False" name="perm_unlink"/>
            <field name="groups" eval="[(6,0,[ref('cm_odex.group_cm_user')])]"/>
            <field name="domain_force">[('user_id','=',user.id)]</field>
        </record>
        <record id="cm_user_trans_internal_rule" model="ir.rule">
            <field name="name">Display Only User Transactions (Internal)</field>
            <field name="model_id" ref="model_cm_transaction_internal"/>
            <field eval="True" name="global"/>
            <field eval="True" name="perm_read"/>
            <field eval="False" name="perm_write"/>
            <field eval="False" name="perm_create"/>
            <field eval="False" name="perm_unlink"/>
            <field name="groups" eval="[(6,0,[ref('cm_odex.group_cm_user')])]"/>
            <field name="domain_force">[('user_id','=',user.id)]</field>
        </record>
        
        <!-- manager -->
        <record id="cm_manager_trans_out_rule" model="ir.rule">
            <field name="name">Display Only Manager Transactions (Outgoing)</field>
            <field name="model_id" ref="model_cm_transaction_out"/>
            <field eval="True" name="global"/>
            <field eval="True" name="perm_read"/>
            <field eval="False" name="perm_write"/>
            <field eval="False" name="perm_create"/>
            <field eval="False" name="perm_unlink"/>
            <field name="groups" eval="[(6,0,[ref('cm_odex.group_cm_manager')])]"/>
            <field name="domain_force">['|',('user_id','=',user.id),('entity_id.manager_id.user_id','=',user.id)]</field>
        </record>
        <record id="cm_manager_trans_in_rule" model="ir.rule">
            <field name="name">Display Only Manager Transactions (Incoming)</field>
            <field name="model_id" ref="model_cm_transaction_in"/>
            <field eval="True" name="global"/>
            <field eval="True" name="perm_read"/>
            <field eval="False" name="perm_write"/>
            <field eval="False" name="perm_create"/>
            <field eval="False" name="perm_unlink"/>
            <field name="groups" eval="[(6,0,[ref('cm_odex.group_cm_manager')])]"/>
            <field name="domain_force">['|',('user_id','=',user.id),('entity_id.manager_id.user_id','=',user.id)]</field>
        </record>
        <record id="cm_manager_trans_internal_rule" model="ir.rule">
            <field name="name">Display Only Manager Transactions (Internal)</field>
            <field name="model_id" ref="model_cm_transaction_internal"/>
            <field eval="True" name="global"/>
            <field eval="True" name="perm_read"/>
            <field eval="False" name="perm_write"/>
            <field eval="False" name="perm_create"/>
            <field eval="False" name="perm_unlink"/>
            <field name="groups" eval="[(6,0,[ref('cm_odex.group_cm_manager')])]"/>
            <field name="domain_force">['|',('user_id','=',user.id),('entity_id.manager_id.user_id','=',user.id)]</field>
        </record>
    </data>
</openerp>
